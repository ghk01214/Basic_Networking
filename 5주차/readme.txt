구현 방법

ARP의 요청과 결과, DHCP의 요청과 결과 frame을 각각의 구조체로 구현.
주소를 관리하는 ARP 서버는 AddressManager 클래스로 구현.

void do_node()
{
구조체의 멤버변수 중 값이 고정적인 변수들은 구조체 내에서 값을 초기화.
do_node 함수에서 DHCP 서버에 IP 주소를 요청하는 일련의 과정을 DHCP 함수로 분리.
DHCP 함수에서 요청을 보내는 노드의 MAC 주소가 A가 아니면 A 노드의 DHCP에 IP 주소 할당을 요청.
요청한 노드가 A 노드일 경우에는 interrupt 없이 바로 IP 주소 할당.

LAN 주소는 1로 고정시키고 1이 아닌 LAN 주소를 입력할 경우 오류 메세지를 표시하며 입력창 재표시.
입력받은 데이터들을 SendMessage 구조체의 멤버변수에 복사.
메세지를 전송할 Node의 IP 주소가 ARP 서버에 없을 경우 해당 노드의 주소를 broadcast 방식으로 요청.
일정 시간을 기다린 후에도 해당 노드의 주소가 ARP 서버에 없을 경우에는 오류 메세지를 표시하며 입력창 재표시.
노드 주소가 ARP 서버에 있으면 SendMessage 구조체를 해당 노드에 전송.
}

interrupt_from_link
{
구조체 frame의 종류에 따라 다른 동작을 하므로 switch문을 이용하여 조건 분할.

다른 노드에 Node 주소를 요청하는 경우에는 broadcast 방식으로 받은 정보가 해당 노드에 요구한 것인지 먼저 확인한다.
요청한 노드의 IP 주소와 요청을 받은 노드의 IP 주소가 일치하면 해당 노드의 MAC 주소와 IP 주소를 broadcast 방식으로 전송한다.

요청한 Node의 IP 주소를 broadcast 방식으로 모든 노드가 받으면 해당 노드의 MAC 주소와 IP 주소를 각 노드의 ARP 서버에 저장한다.

노드에 IP 주소 할당을 요청하는 경우에는 A 노드에서만 요청이 실행되도록 조건을 걸어준 다음 A 노드의 DHCP 서버에서 주소 IP 주소를 할당한 다음 주소를 요청한 노드에 할당된 IP 주소를 전송.

할당을 요청한 IP 주소의 정보를 수신하면 정보들을 전역으로 선언한 resDHCP 변수에 복사한다.

메세지를 전송받으면 메세지의 수신자 노드가 수신 받은 노드인지 비교하고 맞으면 메세지를 출력한다.
}